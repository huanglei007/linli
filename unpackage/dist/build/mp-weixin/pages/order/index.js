(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/index"],{2416:function(t,e,i){"use strict";var n=i("fc6e"),s=i.n(n);s.a},"8a49":function(t,e,i){"use strict";i.r(e);var n=i("bff5"),s=i("f138");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("2416");var o,c=i("f0c5"),r=Object(c["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=r.exports},bff5:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.menuList,(function(e,i){var n=t.__get_orig(e),s=t.__map(e,(function(e,i){var n=t.__get_orig(e),s=t.Img(e.icon);return{$orig:n,m0:s}}));return{$orig:n,l0:s}})));t._isMounted||(t.e0=function(e){t.ability="全部",t.allList()},t.e1=function(e){t.ability="需求"},t.e2=function(e){t.ability="佣金",t.commissionSort=1^t.commissionSort,t.getNewList()},t.e3=function(e){t.ability="距离"}),t.$mp.data=Object.assign({},{$root:{l1:i}})},a=[]},eb69:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){i.e("components/menuList").then(function(){return resolve(i("00ad"))}.bind(null,i)).catch(i.oe)},s={components:{list:n},data:function(){return{userId:"",htosp:0,menuList:[],classfy:[{category_name:"需求类别",id:0}],classfyIndex:0,range:[{name:"距离",id:0}],rangeIndex:0,shopChoise:0,shopList:[],curPage:1,commissionSort:0,isfoot:!1,swiperHeight:"",ability:"全部"}},onLoad:function(){this.htosp=t.getStorageSync("htop"),this.userId=t.getStorageSync("userId"),this.getTypeList(),this.getDistance()},onShow:function(){this.classfyIndex=0,this.getNewList()},onReachBottom:function(){this.isfoot||(this.curPage++,this.getlist())},watch:{},methods:{getlist:function(){var t=this;this.util.ajax("release/releaseList",{categoryId:this.classfy[this.classfyIndex].id,commissionSort:this.commissionSort,curPage:this.curPage,distanceValue:this.range[this.rangeIndex].value,pageSize:20,userId:this.userId},(function(e){setTimeout((function(){t.curPage!==e.data.page.curPage&&(t.isfoot=!0),t.curPage==e.data.page.curPage&&(t.shopList=t.shopList.concat(e.data.list.map((function(e){return{category_name:e.category_name,commission:e.commission,createtime:t.$shijian(e.createtime),distance:e.distance,id:e.id,image:e.head_img,publisher_name:e.publisher_name,requirement_introduction:"备注："+e.leave_message,user_id:e.user_id,user_name:e.publisher_name,now_delivery:e.now_delivery,shop_name:e.shop_name}}))))}),500)}))},getTypeList:function(){var t=this,e=this;this.util.ajax("release/categoryList",{},(function(i){e.classfy=e.classfy.concat(i.data.list);for(var n=[],s=0;s<i.data.list.length/15;s++)n.push(i.data.list.slice(15*s,15*s+15));t.menuList=n,t.$nextTick((function(){t.setSwiperHeight()}))}))},getDistance:function(){var t=this;this.util.ajax("release/distanceConfigList",{},(function(e){t.range=t.range.concat(e.data.list)}))},typeClick:function(t){for(var e=this,i=this.menuList,n=0;n<i.length;n++)for(var s=0;s<i[n].length;s++)i[n][s].category_name==t.category_name&&(e.classfyIndex=0==n?s+1:s+1+15);this.getNewList()},allList:function(){this.classfyIndex=0,this.getNewList()},bindPickerChange:function(t){this.classfyIndex=t.target.value,this.getNewList()},bindPickerChange2:function(t){this.rangeIndex=t.target.value,this.getNewList()},getNewList:function(){this.shopList=[],this.curPage=1,this.getlist()},setSwiperHeight:function(){var e=this,i=t.createSelectorQuery().in(this);i.select("#itemList").boundingClientRect(),i.exec((function(t){t&&t[0]&&(e.swiperHeight=3*(t[0].height+2),e.swiperHeight=3*(t[0].height+5))}))}}};e.default=s}).call(this,i("543d")["default"])},f138:function(t,e,i){"use strict";i.r(e);var n=i("eb69"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},fbe3:function(t,e,i){"use strict";(function(t){i("56c5"),i("33db");n(i("66fd"));var e=n(i("8a49"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},fc6e:function(t,e,i){}},[["fbe3","common/runtime","common/vendor"]]]);