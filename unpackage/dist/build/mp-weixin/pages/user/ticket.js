(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/ticket"],{"289a":function(t,e,a){},"4b29":function(t,e,a){"use strict";(function(t){a("56c5"),a("33db");i(a("66fd"));var e=i(a("8957"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=a,t(e.default)}).call(this,a("543d")["createPage"])},7842:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{htosp:0,typeList:["代金券","优惠券","跑腿劵"],typeIndex:0,statusList:["待使用","已使用","已过期"],statusIndex:0,list:[],curPage:1}},onLoad:function(){this.htosp=t.getStorageSync("htop"),this.userId=t.getStorageSync("userId"),this.getNewList()},onReachBottom:function(){this.isfoot||(this.curPage++,this.getlist())},methods:{getlist:function(){var e=this;0==e.typeIndex?this.util.ajax("userWelfare/voucherList",{userId:e.userId,pageSize:20,status:e.statusIndex,curPage:e.curPage},(function(t){e.curPage!==t.data.page.curPage&&(e.isfoot=!0),e.curPage==t.data.page.curPage&&(e.list=e.list.concat(t.data.list.map((function(t){return{amount:t.original_price,time:e.$shijiandate(t.begin_time)+" - "+e.$shijiandate(t.expiration_time),rule:t.voucher_name+" 实付"+t.real_pay_amount+"元",shop:t.shop_name,infoid:t.info_id,type:t.type,id:t.id}}))))})):1==e.typeIndex?this.util.ajax("userWelfare/couponList",{userId:e.userId,pageSize:20,status:e.statusIndex,curPage:e.curPage},(function(t){e.curPage!==t.data.page.curPage&&(e.isfoot=!0),e.curPage==t.data.page.curPage&&(e.list=e.list.concat(t.data.list.map((function(t){return{amount:t.amount,time:e.$shijiandate(t.begin_time)+" - "+e.$shijiandate(t.expiration_time),rule:t.coupon_name,shop:t.shop_name,infoid:t.info_id,type:t.type,id:t.id}}))))})):this.util.ajax("release/errandCouponList",{type:e.statusIndex+1,curPage:e.curPage,pageSize:20,userId:t.getStorageSync("userId")},(function(t){e.curPage!==t.data.page.curPage&&(e.isfoot=!0),e.curPage==t.data.page.curPage&&(e.list=e.list.concat(t.data.coupon.map((function(t){return{amount:t.amount,time:e.$shijiandate(t.expiration_time)+"过期",rule:t.coupon_name,shop:"跑腿专用",infoid:"",type:"",id:t.coupon_id}}))))}))},getNewList:function(){this.list=[],this.curPage=1,this.isfoot=!1,this.getlist()},jumpto:function(t,e){var a=this;1==t?this.$jump("/pages/index/shopDetail?id="+e):1==a.typeIndex?this.$jump("/pages/from/apply?id=0"):this.$jump("/pages/index/darenDetail?id="+e)},toDetail:function(t,e,a){var i=this;0==i.typeIndex&&0==i.statusIndex?this.$jump("/pages/user/tickitDetail?id="+a):1==i.typeIndex?this.jumpto(t,e):this.$jump("/pages/from/apply?id=0")}}};e.default=a}).call(this,a("543d")["default"])},8957:function(t,e,a){"use strict";a.r(e);var i=a("d6a0"),n=a("c675");for(var u in n)"default"!==u&&function(t){a.d(e,t,(function(){return n[t]}))}(u);a("a1ea");var s,r=a("f0c5"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=o.exports},a1ea:function(t,e,a){"use strict";var i=a("289a"),n=a.n(i);n.a},c675:function(t,e,a){"use strict";a.r(e);var i=a("7842"),n=a.n(i);for(var u in i)"default"!==u&&function(t){a.d(e,t,(function(){return i[t]}))}(u);e["default"]=n.a},d6a0:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e,a){var i=arguments[arguments.length-1].currentTarget.dataset,n=i.eventParams||i["event-params"];a=n.i;t.typeIndex=a,t.getNewList()},t.e1=function(e,a){var i=arguments[arguments.length-1].currentTarget.dataset,n=i.eventParams||i["event-params"];a=n.i;t.statusIndex=a,t.getNewList()})},u=[]}},[["4b29","common/runtime","common/vendor"]]]);