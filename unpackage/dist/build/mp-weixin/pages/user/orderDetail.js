(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/orderDetail"],{"05a0":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}));var n={uniDateformat:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat")]).then(r.bind(null,"a4f3"))}},o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},7225:function(e,t,r){"use strict";(function(e){r("56c5"),r("33db");n(r("66fd"));var t=n(r("74aa"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=r,e(t.default)}).call(this,r("543d")["createPage"])},"74aa":function(e,t,r){"use strict";r.r(t);var n=r("05a0"),o=r("92b1");for(var a in o)"default"!==a&&function(e){r.d(t,e,(function(){return o[e]}))}(a);r("b10c");var d,u=r("f0c5"),i=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],d);t["default"]=i.exports},"92b1":function(e,t,r){"use strict";r.r(t);var n=r("c9d4"),o=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},b10c:function(e,t,r){"use strict";var n=r("d050"),o=r.n(n);o.a},c9d4:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{userId:"",type:1,orderId:0,form:{},status:[{id:0,label:"0"},{id:1,label:"代付款"},{id:2,label:"待配送"},{id:3,label:"配送中"},{id:4,label:"已完成"},{id:5,label:"已取消"},{id:6,label:"已评价"}],statusIndex:0,delivery:"开始配送"}},onLoad:function(t){this.userId=e.getStorageSync("userId"),this.orderId=t.id,this.type=t.type,this.loadmore()},methods:{loadmore:function(){var e=this,t=this;this.util.ajax("order/myOrdersDetails",{orderId:this.orderId},(function(r){t.form=r.data,e.statusEvent()}))},copy:function(t){e.setClipboardData({data:t})},upStatu:function(e){var t=this;this.util.ajax("order/updateOrderStatus",{orderId:this.orderId,type:e},(function(e){t.$alert("订单已更新"),t.loadmore()}))},statusEvent:function(){for(var e=this,t=0;t<e.status.length;t++)e.status[t].id==e.form.order.order_status&&(e.statusIndex=t)},phone:function(t){e.makePhoneCall({phoneNumber:t})},startEvent:function(){var t=this;e.showModal({title:"",content:"开始配送",success:function(e){e.confirm?t.util.ajax("order/deliveryOrder",{orderId:t.orderId,userId:t.userId},(function(e){t.$alert("开始配送"),setTimeout((function(){t.delivery="确认送达"}),500)})):e.cancel&&console.log("用户点击取消")}})},confirmEvent:function(){var t=this;e.showModal({title:"",content:"确认送达",success:function(e){e.confirm?t.util.ajax("order/completeOrder",{orderId:t.orderId,userId:t.userId},(function(e){t.$alert("已送达"),setTimeout((function(){t.loadmore()}),500)})):e.cancel&&console.log("用户点击取消")}})},cancelEvent:function(){var t=this,r="/pagesA/a_orderDetail_cancel?type=";e.showModal({title:"",content:"确认取消订单?",success:function(e){e.confirm?t.$jump(r+t.type+"&id="+t.orderId+"&price="+t.form.order.pro_price):e.cancel&&console.log("用户点击取消")}})},deleteEvent:function(){var t=this;e.showModal({title:"",content:"确认删除订单?",success:function(e){e.confirm?t.util.ajax("order/deleteOrder",{orderId:t.orderId,userId:t.userId},(function(e){t.$alert("订单已删除"),setTimeout((function(){t.$jump("/pages/user/myOrder/myOrder?type=2")}),500)})):e.cancel&&console.log("用户点击取消")}})},handelEvent:function(e){var t=this;if("评论"==e){var r="/pagesA/a_orderDetail_evaluate?id=";t.$jump(r+t.orderId)}else"提醒配送"==e&&t.$alert("已提醒配送")}}};t.default=r}).call(this,r("543d")["default"])},d050:function(e,t,r){}},[["7225","common/runtime","common/vendor"]]]);