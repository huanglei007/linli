(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/shopSet/fuli"],{"04f1":function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var r=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t,i){var n=arguments[arguments.length-1].currentTarget.dataset,r=n.eventParams||n["event-params"];i=r.i;e.typeIndex=i,e.getList()})},a=[]},"373c":function(e,t,i){"use strict";(function(e){i("a943"),i("33db");n(i("66fd"));var t=n(i("7057"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=i,e(t.default)}).call(this,i("543d")["createPage"])},7057:function(e,t,i){"use strict";i.r(t);var n=i("04f1"),r=i("de42");for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("9195");var u,s=i("f0c5"),o=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);t["default"]=o.exports},9195:function(e,t,i){"use strict";var n=i("cca7"),r=i.n(n);r.a},"9e3a":function(e,t,i){"use strict";(function(e){function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{userId:"",typeList:["代金券","优惠券"],typeIndex:0,list:[{left:"",right:"",begin:"开始时间",end:"结束时间"}],onoff:!0}},mounted:function(){this.userId=e.getStorageSync("userId"),this.getList()},methods:{bindDateChange:function(e,t,i){t[i]=e.target.value},getList:function(){this.list=[{left:"",right:"",begin:"开始时间",end:"结束时间"}];var e=this,t=(new Date).getFullYear();0==this.typeIndex?this.util.ajax("shop/getVouchers",{userId:this.userId},(function(n){n.data.list.length>0&&(e.list=n.data.list.map((function(n){var r;return r={left:n.present_price,right:n.original_price,begin:n.begin_time,end:n.expiration_time},i(r,"begin",t+"-"+e.$shijiandate(n.begin_time)),i(r,"end",t+"-"+e.$shijiandate(n.expiration_time)),i(r,"id",n.id),i(r,"isDelete",0),r})))})):this.util.ajax("shop/getCoupons",{userId:this.userId},(function(i){i.data.list.length>0&&(e.list=i.data.list.map((function(i){return{left:i.min_order_amount,right:i.amount,begin:t+"-"+e.$shijiandate(i.begin_time),end:t+"-"+e.$shijiandate(i.expiration_time),id:i.id,isDelete:0}})))}))},newArr:function(){this.list.push({left:"",right:"",begin:"开始时间",end:"结束时间",isDelete:0})},del:function(e){var t=this;t.list[e].id?t.list[e].isDelete=1:t.list.splice(e,1)},submit:function(){var e=this,t=[],i="",n=!1;0==e.typeIndex?(i="shop/saveVoucher",t=e.list.map((function(e){if("开始时间"!=e.begin&&"结束时间"!=e.end&&e.right&&e.left)return n=!1,{beginTime:e.begin,expirationTime:e.end,isDelete:e.isDelete,originalPrice:e.right,presentPrice:e.left,voucherName:"",id:e.id};n=!0}))):(i="shop/saveCoupon",t=e.list.map((function(e){if("开始时间"!=e.begin&&"结束时间"!=e.end&&e.right&&e.left)return n=!1,{beginTime:e.begin,expirationTime:e.end,isDelete:e.isDelete,amount:e.right,minOrderAmount:e.left,couponName:"",id:e.id};n=!0}))),1==n?this.$alert("请输入完成"):this.util.ajax(i,{list:t,userId:e.userId},(function(t){e.$alert(t.msg),e.getList()}))}}};t.default=n}).call(this,i("543d")["default"])},cca7:function(e,t,i){},de42:function(e,t,i){"use strict";i.r(t);var n=i("9e3a"),r=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a}},[["373c","common/runtime","common/vendor"]]]);