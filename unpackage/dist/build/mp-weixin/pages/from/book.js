(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/from/book"],{"0a75":function(e,t,n){"use strict";(function(e){n("56c5"),n("33db");i(n("66fd"));var t=i(n("43dd"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},"43dd":function(e,t,n){"use strict";n.r(t);var i=n("c04f"),a=n("5473");for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("8234");var o,u=n("f0c5"),d=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);t["default"]=d.exports},5473:function(e,t,n){"use strict";n.r(t);var i=n("ba7f"),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},"815a":function(e,t,n){},8234:function(e,t,n){"use strict";var i=n("815a"),a=n.n(i);a.a},ba7f:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){n.e("components/changeAddresss").then(function(){return resolve(n("0f15"))}.bind(null,n)).catch(n.oe)},a={components:{pickerAddress:i},data:function(){return{htosp:0,userId:"",imageurl:"",imageValue:[],buyAdd:{},isAddress:!1,addIndex:"buyAdd",cateList:[{name:"请选择交易方式",id:0}],cateIndex:0,shopList:[{operation_point_name:"请选择运营点",id:0}],shopIndex:0,formdata:{categoryId:6,publisherName:"",publisherSex:0,leaveMessage:"",publisherPhone:"",sellingPrice:"",commission:"",goodsSize:"",goodsWeight:"",specialDelivery:0}}},onShow:function(){this.$refs.add&&this.$refs.add.refresh()},onLoad:function(t){this.htosp=e.getStorageSync("htop"),this.userId=e.getStorageSync("userId");var n=this;this.util.ajax("common/transactionModeList",{},(function(e){n.cateList=n.cateList.concat(e.data.list)})),this.util.ajax("common/operationPointList",{},(function(e){n.shopList=n.shopList.concat(e.data.list)}))},methods:{cancel:function(){this.isAddress=!1},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.cateIndex=e.target.value},bindPickerChange2:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.shopIndex=e.target.value},bindDateChange:function(e){this.date=e.target.value},changeAdd:function(e){this[this.addIndex]=e,this.isAddress=!1},addImg:function(){this.util.sendimage(5-this.imageValue.length,this.imageValue)},del:function(e){this.imageValue.splice(e,1)},nextStep:function(){if(this.buyAdd.address)if(0!=this.cateIndex)if(this.cateList.length&&2==this.cateList[this.cateIndex].id&&0==this.shopIndex)this.$alert("请选择运营点");else{var t=this;this.$refs.form.validate().then((function(n){e.showLoading({title:""});var i=n;i.publisherName=t.buyAdd.name,i.publisherPhone=t.buyAdd.phone,i.categoryId=t.formdata.categoryId,i.publisherSex=t.formdata.publisherSex,i.leaveMessage=t.formdata.leaveMessage,i.transactionModeId=t.cateList[t.cateIndex].id,i.js_operation_point_id=t.shopList[t.shopIndex].id,i.images=t.imageValue.join(),i.addressId=t.buyAdd.id,i.userId=t.userId,t.util.ajax("release/saveRelease",i,(function(n){e.hideLoading(),t.$alert("发布成功"),setTimeout((function(){t.$jumpLa("/pages/user/myOrder/myOrder?type=0")}),1e3)}))})).catch((function(e){console.log("表单错误信息：",e)}))}else this.$alert("请选择交易方式");else this.$alert("请选择取件地址")}}};t.default=a}).call(this,n("543d")["default"])},c04f:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var i={uniForms:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(n.bind(null,"d623"))},uniFormsItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(n.bind(null,"b7ed"))},uniEasyinput:function(){return n.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(n.bind(null,"2af2"))}},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.imageValue,(function(t,n){var i=e.__get_orig(t),a=e.Img(t);return{$orig:i,m0:a}})));e._isMounted||(e.e0=function(t){e.addIndex="buyAdd",e.isAddress=!0}),e.$mp.data=Object.assign({},{$root:{l0:n}})},s=[]}},[["0a75","common/runtime","common/vendor"]]]);