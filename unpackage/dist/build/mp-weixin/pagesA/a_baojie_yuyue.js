(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/a_baojie_yuyue"],{"11bb":function(t,e,n){"use strict";(function(t){n("56c5"),n("33db");o(n("66fd"));var e=o(n("7a2c"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"3ecc":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{typelist:[{category_name:"",id:0,price:0,service_introduction:""}],index:null,form:{address:"",categoryId:9,category_id2:0,commission:0,contact_name:"",contact_phone:"",coupon_amount:0,coupon_id:0,duration:0,end_time:"",latitude:"",longitude:"",remark:"",start_time:"",userId:0},upAddressId:null,price:0}},onLoad:function(e){this.getTypeList(),this.form.category_id2=e.typeId,this.form.userId=t.getStorageSync("userId")},onShow:function(){var e=this;t.$on("upAddressData",(function(t){e.upAddressId=t}))},watch:{typelist:function(t,e){for(var n=0;n<t.length;n++)t[n].id==this.form.category_id2&&(this.index=n)},index:function(t,e){this.form.category_id2=this.typelist[t].id,this.form.commission=this.typelist[t].price,this.price=this.typelist[t].price}},methods:{getTypeList:function(){var e=this;this.util.ajax("personalDemand/housekeepingCategory",{fromUserId:t.getStorageSync("userId")},(function(t){e.typelist=t.data.list}))},typeChange:function(t){var e=this;e.index=t.detail.value,e.form.category_id2=e.typelist[t.detail.value].id},getSubComponentData:function(t,e){var n=this;console.log("类别:",t),"上门地址"==t?(n.form.address=e.address+e.address_detail,n.form.contact_name=e.name,n.form.contact_phone=e.phone,n.form.latitude=e.latitude,n.form.longitude=e.longitude):"上门时间"==t?(this.getDateBeforeNow(e.split("/")[0],e.split("/")[1]),n.form.start_time=e.split("/")[0],n.form.end_time=e.split("/")[1]):"优惠券"==t?(n.form.coupon_id=e.id,n.form.coupon_amount=e.amount,n.form.commission=n.typelist[n.index].price-e.amount):"备注"==t&&(n.form.remark=e)},getDateBeforeNow:function(t,e){t=new Date(t.replace(/-/g,"/")),e=new Date(e.replace(/-/g,"/"));var n=6e4,o=60*n,i=(t=new Date(t).getTime(),e=new Date(e).getTime(),e-t);this.form.duration=parseInt(i/o)}}};e.default=n}).call(this,n("543d")["default"])},7021:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={aUpAddress:function(){return n.e("components/a_components/a-upAddress").then(n.bind(null,"e60b"))},aUpTime:function(){return n.e("components/a_components/a-upTime").then(n.bind(null,"b443"))},aDiscount:function(){return n.e("components/a_components/a-discount").then(n.bind(null,"c0e6"))},aRemarks:function(){return n.e("components/a_components/a-remarks").then(n.bind(null,"6088"))},aSubmit:function(){return n.e("components/a_components/a-submit").then(n.bind(null,"481a"))}},i=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"7a2c":function(t,e,n){"use strict";n.r(e);var o=n("7021"),i=n("f548");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("99aa");var r,u=n("f0c5"),c=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=c.exports},8798:function(t,e,n){},"99aa":function(t,e,n){"use strict";var o=n("8798"),i=n.n(o);i.a},f548:function(t,e,n){"use strict";n.r(e);var o=n("3ecc"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a}},[["11bb","common/runtime","common/vendor"]]]);